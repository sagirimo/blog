<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Day9 | MagicBlog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blog/images/photo.gif">
    <link rel="manifest" href="/blog/images/photo.gif">
    <link rel="apple-touch-icon" href="/blog/images/photo.gif">
    <meta name="description" content="Personal Documentation By Sagirimo">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/blog/assets/css/0.styles.6822ba10.css" as="style"><link rel="preload" href="/blog/assets/js/app.0e0263ea.js" as="script"><link rel="preload" href="/blog/assets/js/2.a0c195e9.js" as="script"><link rel="preload" href="/blog/assets/js/16.ea3437ab.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.7299e81c.js"><link rel="prefetch" href="/blog/assets/js/11.b8f33f3a.js"><link rel="prefetch" href="/blog/assets/js/12.e5755e76.js"><link rel="prefetch" href="/blog/assets/js/13.f54d5271.js"><link rel="prefetch" href="/blog/assets/js/14.e7cb47b5.js"><link rel="prefetch" href="/blog/assets/js/15.b4496ebf.js"><link rel="prefetch" href="/blog/assets/js/17.35f61ab3.js"><link rel="prefetch" href="/blog/assets/js/18.1fe11523.js"><link rel="prefetch" href="/blog/assets/js/19.e2087e28.js"><link rel="prefetch" href="/blog/assets/js/20.32c7b3a5.js"><link rel="prefetch" href="/blog/assets/js/21.78dc3dc0.js"><link rel="prefetch" href="/blog/assets/js/22.a146c080.js"><link rel="prefetch" href="/blog/assets/js/23.eec4bfce.js"><link rel="prefetch" href="/blog/assets/js/24.f6f06890.js"><link rel="prefetch" href="/blog/assets/js/25.e5f91819.js"><link rel="prefetch" href="/blog/assets/js/26.c4a5fa6a.js"><link rel="prefetch" href="/blog/assets/js/27.a1b860e8.js"><link rel="prefetch" href="/blog/assets/js/28.ebf07387.js"><link rel="prefetch" href="/blog/assets/js/29.41be9879.js"><link rel="prefetch" href="/blog/assets/js/3.d2ea9d98.js"><link rel="prefetch" href="/blog/assets/js/30.44430d35.js"><link rel="prefetch" href="/blog/assets/js/4.605a857c.js"><link rel="prefetch" href="/blog/assets/js/5.b7160b18.js"><link rel="prefetch" href="/blog/assets/js/6.edb6cf3f.js"><link rel="prefetch" href="/blog/assets/js/7.4642b29d.js"><link rel="prefetch" href="/blog/assets/js/8.0539335a.js"><link rel="prefetch" href="/blog/assets/js/9.5d066e09.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.6822ba10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">MagicBlog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/math/" class="nav-link">
  高等数学
</a></div><div class="nav-item"><a href="/blog/chem/" class="nav-link">
  普通化学
</a></div><div class="nav-item"><a href="/blog/comp/" class="nav-link router-link-active">
  计算概论
</a></div><div class="nav-item"><a href="/blog/bible/" class="nav-link">
  Re &amp; Bib
</a></div><div class="nav-item"><a href="/blog/swim/" class="nav-link">
  初级游泳
</a></div><div class="nav-item"><a href="/blog/know/" class="nav-link">
  芝士雪豹
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/math/" class="nav-link">
  高等数学
</a></div><div class="nav-item"><a href="/blog/chem/" class="nav-link">
  普通化学
</a></div><div class="nav-item"><a href="/blog/comp/" class="nav-link router-link-active">
  计算概论
</a></div><div class="nav-item"><a href="/blog/bible/" class="nav-link">
  Re &amp; Bib
</a></div><div class="nav-item"><a href="/blog/swim/" class="nav-link">
  初级游泳
</a></div><div class="nav-item"><a href="/blog/know/" class="nav-link">
  芝士雪豹
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>计算概论</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/comp/1.html" class="sidebar-link">Day1</a></li><li><a href="/blog/comp/9.html" aria-current="page" class="active sidebar-link">Day9</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/comp/9.html#_5-全排列" class="sidebar-link">5-全排列</a></li><li class="sidebar-sub-header"><a href="/blog/comp/9.html#_7-n后问题" class="sidebar-link">7-n后问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/comp/9.html#题目描述" class="sidebar-link">题目描述</a></li><li class="sidebar-sub-header"><a href="/blog/comp/9.html#我的思路" class="sidebar-link">我的思路</a></li><li class="sidebar-sub-header"><a href="/blog/comp/9.html#代码展示" class="sidebar-link">代码展示</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="day9"><a href="#day9" class="header-anchor">#</a> Day9</h1> <h2 id="_5-全排列"><a href="#_5-全排列" class="header-anchor">#</a> 5-全排列</h2> <h2 id="_7-n后问题"><a href="#_7-n后问题" class="header-anchor">#</a> 7-n后问题</h2> <h3 id="题目描述"><a href="#题目描述" class="header-anchor">#</a> 题目描述</h3> <p>n 后问题要求在一个 n * n 格的棋盘上放置n个皇后，使得他们彼此不受攻击。
按照国际象棋的规则，一个皇后可以攻击与之处在同一行或同一列或同一斜线上的其它任何棋子。
因此，n 后问题等价于要求在一个 n * n 格的棋盘上放置 n 个皇后，使得任何 2 个皇后不能在同一行或同一列或同一斜线上。</p> <div class="custom-block tip"><p class="custom-block-title">关于输入</p> <p>这是一个提示一个正整数n（1&lt;=n&lt;=12）</p></div> <div class="custom-block tip"><p class="custom-block-title">关于输出</p> <p>输出一个正整数，表明对于给定的 n * n 的棋盘，共有多少种放置方法</p></div> <h3 id="我的思路"><a href="#我的思路" class="header-anchor">#</a> 我的思路</h3> <p>我首先没有思路。</p> <p>这类有图形想象的题之前一直也不会做，这下碰到了，还是不会。</p> <p>思考方式首先想要同时确定不同种情况，也就是暴力破解（逐一检验）</p> <p>以8为例，这种方法需要检验的情况有64中选8个，非常多的情况，大概率会Time Out。</p> <p>然而考虑到本体较难，也许时间限制会放松，不得不采用此全部遍历，暴力寻找的方法。</p> <p>方法原理阐述：</p> <p>一、分析递归：把n * n棋盘从左上到右下通过双层循环遍历，递归从第一颗棋子一直到第n颗棋子结束
二、细节刻画：遍历方式为找好了一颗棋子，下一个棋子从上一颗的位置接续寻找。（由于初始设想的问题，导致此处考虑不简洁）
三、标记方式：采用先刷一边0，选上棋子/棋子路径再用1来刷掉（此处算法就考虑不周了）。下周目时重新刷掉最后一课棋子留下的痕迹。（也会形成误杀！）
四、找点计数：每一颗棋子都能找到自己的0的时候，且为最后一颗棋子，那么计数器加一，return到上一颗棋子，擦除留下的痕迹，接着进行递归。否则则return。</p> <p>这种方法的原理特点是未加以详细思考，导致算法出现大量错误，不仅增加了自己的思考量，有些更是无法改正。</p> <p>经过与同学讨论后，得到以下改进：</p> <p>一、递归方式：由逐个寻找变成了一行找一个。由图形简单分析，即可发现每行有且只有一个棋子。这一条为关键信息。
二、擦除方式：原本的擦除方式会误擦掉其他棋子留下的“禁区”，这点难以解除。故不再采用制定“禁区”刷为1的方法，而是判断每颗棋子路径上是否有其他棋子
三、擦除细节：寻找路径只需寻找左上方向的路径。因为右下方向的棋子还没有摆上。
四、计数方式：这个改动是接近最后完成时做出的。利用了break和continue。简单的return不能做出“跳出这次循环”这样的指令。必须结合使用二者和flag来标记、进而实现这种情况不行就跳出到下一种的目的。
五、递归结束：在if num==n的地方。如果等于n-1的话，所有的n-1都会成立。这样显然是不可以的。必须在n-1行挑选成功后，再来进入chess（n）来到num==n时，才可以说明n-1行确实有点满足情况。</p> <h3 id="代码展示"><a href="#代码展示" class="header-anchor">#</a> 代码展示</h3> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
using namespace std<span class="token punctuation">;</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token punctuation">;</span>
<span class="token keyword">int</span> ti<span class="token punctuation">;</span>
<span class="token keyword">int</span> tj<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">chess</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token comment">//num 行数 每行有且只有一个棋子 </span>
<span class="token punctuation">{</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">int</span> flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">==</span>n<span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				count<span class="token operator">++</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>t<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>t<span class="token operator">++</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>t<span class="token operator">&lt;</span>num<span class="token punctuation">)</span> 
				<span class="token punctuation">{</span>
					a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
					flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
			ti<span class="token operator">=</span>i<span class="token punctuation">;</span>tj<span class="token operator">=</span>num<span class="token punctuation">;</span>
			<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>ti<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>tj<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">)</span> 
			<span class="token punctuation">{</span>
				ti<span class="token operator">--</span><span class="token punctuation">;</span>tj<span class="token operator">--</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>ti<span class="token punctuation">]</span><span class="token punctuation">[</span>tj<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
				<span class="token punctuation">{</span>
					a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
					flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
			ti<span class="token operator">=</span>i<span class="token punctuation">;</span>tj<span class="token operator">=</span>num<span class="token punctuation">;</span>
			<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>ti<span class="token operator">&lt;</span>n<span class="token operator">&amp;&amp;</span>tj<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">)</span> 
			<span class="token punctuation">{</span>
				ti<span class="token operator">++</span><span class="token punctuation">;</span>tj<span class="token operator">--</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>ti<span class="token punctuation">]</span><span class="token punctuation">[</span>tj<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
				<span class="token punctuation">{</span>
					a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
					flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
			<span class="token function">chess</span><span class="token punctuation">(</span>num<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span>
		<span class="token function">chess</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout<span class="token operator">&lt;&lt;</span>count<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/comp/1.html" class="prev">
        Day1
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.0e0263ea.js" defer></script><script src="/blog/assets/js/2.a0c195e9.js" defer></script><script src="/blog/assets/js/16.ea3437ab.js" defer></script>
  </body>
</html>
